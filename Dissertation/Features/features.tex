
% Take from PyAudioAnalysis
% short-term, mid-term features

\chapter{Algorithms}
\section{Time Analysis}
\subsection{Convolution}
A general use of the convolution operation
is to evaluate the outputs of linear
time-invariant systems.
Taking the impulse response of a system, and
applying the convolution with
a given input, gives the system's output
for that specific input.

For continuous time dependent arguments,
\(x\) as the input variable, and \(h\) as the
system's impulse response, the convolution is given by:

\begin{equation}
    (x * h)(t) \triangleq \int^{\infty}_{-\infty} x(t)h(t-\tau) d\tau
\end{equation}

Due to the commutativity property of the convolution
operation, the shifting over one of the arguments
is interchangeable, thus one can write
the same equation as:

\begin{equation}
    (x * h)(t) \triangleq \int^{\infty}_{-\infty} x(t-\tau)h(t) d\tau
\end{equation}

Likewise, working with discrete variables,
the convolution operation can be written as:
\begin{align}
    (x * h)[n] \triangleq & \sum^{\infty}_{m=-\infty} x[m]h[n-m] \\
    (x * h)[n] \triangleq & \sum^{\infty}_{m=-\infty} x[n-m]h[m]
\end{align}


\subsection{Cross-Correlation}
Cross-correlation is an operation that can measure
how similar two functions are. By ``shifting''
one function over the other and measuring the amount
of correlation at each given point, the output graph
demonstrates at what ``distance''
the maximum similarity occurs,
in correspondence
to the graph's maximum amplitude.

\begin{align}
    (x * h)(t) \triangleq & \int^{\infty}_{-\infty} x^{*}(t)h(t+\tau) d\tau \\
    (x * h)(t) \triangleq & \int^{\infty}_{-\infty} x^{*}(t-\tau)h(t) d\tau
\end{align}

\begin{align}
    (x * h)[n] \triangleq & \sum^{\infty}_{m=-\infty} x^{*}[m]h[n+m] \\
    (x * h)[n] \triangleq & \sum^{\infty}_{m=-\infty} x^{*}[n-m]h[m]
\end{align}

\subsection{Auto-Correlation}
In a case where the two input functions
of the cross-correlation are the same input signals,
the measure is then called ``auto-correlation''.
In other words, this measure demonstrates
at what ``distance'' the delayed version of the signal
most matches the original version of it.

This kind of measure is very useful in audio
applications where multi-microphones are spread
with varying distance from each other and from the
source. Looking for the maxima point of the
auto-correlation between the signal received by
the microphones, one can deduce the lag time
that best characterizes the microphones' formation.

Several enhancement and manipulation techniques
are then become available when the lagging
time is known.
For example the delay and sum algorithm beamforming
algorithm for constructive summation of the different
channels that translates
to better SNR (signal-to-noise ratio).

\subsubsection{Covariance Matrices}
\begin{equation}
    \mathbf{R}_{XY} \triangleq \mathbf{E}[XY^{tr}]
\end{equation}

\begin{align}
    \mathbf{R}_{XX} & \triangleq \mathbf{E}[XX^{tr}] \\
                    & = \frac{1}{T} \sum^{T-1}_{t=0}
    {X}(t;j\omega){X}^{\mathbf{H}}(t;j\omega)
\end{align}

Where the \(\mathbb{H}\) operator
is the \emph{Hermitian function} which stands for
the complex conjugate.

% ESPNet \& Mirco Document
\subsection{Sinc-Conv}

% \begin{figure}[ht]
%     \centering
%     \includegraphics[width=0.99\textwidth]
%     {./img/Comparison_convolution_correlation.svg}\label{fig:conv_vs_corr_plot}
%     \caption{Convolution vs. Cross-Correlation vs. Auto-Correlation plot [Wikipedia]}
% \end{figure}



\section{Frequency Analysis}
\subsection{DTFT}
\begin{equation}
    X_{2\pi}(\omega) = \sum_{n=-\infty}^{\infty} x[n] \,e^{-i \omega n}
\end{equation}


\subsection{IDTFT}
\begin{equation}
    x[n] = \frac{1}{2 \pi}\int_{2\pi} X_{2\pi}(\omega)\cdot e^{i \omega n} d\omega
\end{equation}

\subsection{DFT}
\begin{equation}
    \label{eq:dft}
    X_k = \sum_{n=0}^{N-1} x_n \cdot e^{-\frac {i 2\pi}{N}kn}
\end{equation}

Taking Euler's identity:
\begin{equation}
    e^{ix} = \cos x + j\sin x
\end{equation}

Substituting the exponent power in Equation\;\ref{eq:dft} with the Euler identity
gives:
\begin{equation}
    X_k = \sum_{n=0}^{N-1} x_n \cdot \left[\cos\left(\frac{2 \pi}{N}kn\right)
        - i \cdot \sin\left(\frac{2 \pi}{N}kn\right)\right]
\end{equation}


\subsection{IDFT}
\begin{equation}
    x[n] = \frac{1}{N} \sum_{k=0}^{N-1} X_k\cdot e^{i \frac{2 \pi}{N} k n}
\end{equation}


\subsection{FFT --- Fast Fourier Transform}

\section{Time-Frequency Analysis}
\subsection{STFT - Short Time Fourier Transfer}

\section{Windows}
\subsection{Overview}


\subsection{Rect (boxcar)}
\subsection{Triangle}
\subsection{Bartlett}
\subsection{Hamming}
\subsection{Hann}
\begin{align}
    w[n] = 0.5 - 0.5\cos\left( \frac{ 2\pi n }{ M - 1 } \right) & \qquad 0 \leq n \leq M-1
\end{align}


\subsection{Kaiser}
\subsection{Analog Filters}

\subsection{Overlap + Add Reconstruction}
\subsection{Wavelets}

\section{Speech-Enhancement}
See table
% \begin{figure}[ht]
%     \centering
%     \includegraphics[width=0.99\textwidth]
%     {./img/spc_enhance_tbl}\label{fig:asr_blocks_diagram}
%     \caption{General E2E ASR System Blocks Diagram}
% \end{figure}



% DCT + MFCC Connection
% DST - Discrete Sine Transforms
% Hilbert Transform
% Analytical Signal
% Wavelates
% Convolution / Correlation
% Parseval's Theorm
% PSD
% Median Filter
% ORder Filter
% Wiener Filter
% Hermitian FFTs




\chapter{Features}
\section{Cepstral Features}
\subsection{FB --- FilterBanks}
\subsection{MFCCs --- Mel-Frequency Cepstral Coefficients}

% https://link.springer.com/content/pdf/bbm%3A978-3-319-03116-3/1.pdf
\subsubsection{Pre-emphasis}
% \subsubsection{Frame blocking}
\subsubsection{Framing}
\subsubsection{Windowing}
\subsubsection{DFT spectrum}
\subsubsection{Mel-spectrum}
\subsubsection{Discrete Cosine Transform (DCT)}
\subsubsection{Dynamic MFCC features}


% Take from PyAudioAnalysis
% PyAudioProcessing
\subsection{Deltas}
\subsection{Delta-Deltas}

\subsection{GFCCs --- Gammatone-Frequency Cepstral Coefficients}
\subsection{BFCCs --- Bark-Frequency Cepstral Coefficients}
\subsection{LFCCs --- Linear-Frequency Cepstral Coefficients}
\subsection{LPC --- Linear Predictive Coefficients}
\subsection{MSRCC --- Magnitude-based Spectral Root Cepstral Coefficients}
\subsection{NGCC --- Normalized Gammachirp Cepstral Coefficients}
\subsection{PNCC --- Mel-Frequency Cepstral Coefficients}
\subsection{PSRCC --- Mel-Frequency Cepstral Coefficients}
\subsection{RPLP --- Mel-Frequency Cepstral Coefficients}
% https://spafe.readthedocs.io/en/latest/features/_features.html
\subsection{articulatory cepstral coefficients}
ttt

\subsection{Deltas}
\subsection{Delta-Deltas}

\section{Spectral Features}

\section{Time-Domain Features}

\section{Spatial Features}
\subsection{VTLN - vocal track length norm}
